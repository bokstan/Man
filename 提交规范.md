# 开发规范

## 分支管理

+ `main` 分支：
  + 主分支，最终的、稳定的、经过测试没有 bug 的、可部署于生产环境的分支
  + 只能由 `release` 和 `hotfix` 分支合并，任何情况下都不能直接修改代码

 +  `dev` 分支：
    + 主要开发分支，贯穿于整个项目的生命周期
    + 始终保持最新版本，功能模块开发任务交给 `feature` 分支，测试任务交给 `release` 分支

+ `feature` 分支：
  + 功能模块开发分支，对应于一个特定的功能模块
  + 该分支以 `dev` 分支为基线，完成开发工作后再合并到 `dev` 分支
  + 命名规则：`feature/NAME` 或 `feature-NAME`

+ `release` 分支：
  + 预发布分支，在发布正式版本前进行全面测试和修复
  + 该分支以 `dev` 分支为基线进行全面测试，若发生 bug 则可直接在该分支修复并提交
  + 经过测试没有问题之后，合并到 `main` 分支部署上线，同时也合并到 `dev` 分支保持最新进度
  + 命名规则：`release/NAME` 或 `release-NAME`

![image-20240707140500386](C:\Users\16272\AppData\Roaming\Typora\typora-user-images\image-20240707140500386.png)

## 提交信息格式

```
<类型>(<范围>): <描述>

[可选的主体内容]

[可选的页脚内容]
```

### 类型（Type）

- `feat`：新功能（feature）
- `fix`：修补bug
- `docs`：文档（documentation）
- `style`：格式（不影响代码运行的变动）
- `refactor`：重构（即不是新增功能，也不是修改bug的代码变动）
- `test`：增加测试
- `chore`：构建过程或辅助工具的变动

### 范围（Scope）

- 可以是你修改代码的影响范围，比如模块、文件、功能等。

### 描述（Description）

- 对本次提交的简短描述，建议不超过50个字符。

### 主体内容（Body）

- 对本次提交的详细描述，可以包括修改的原因、实现的逻辑等。每行不超过72个字符。

### 页脚内容（Footer）

- 用于说明关联的issue或其他信息，比如关闭某个issue等。

### 举例

#### 新增功能

```
feat(auth): add user login feature
```

#### 修复bug

```
fix(api): correct endpoint response format

Fixed the response format for the user details endpoint to match the expected schema.
```

#### 更新文档

```
docs(readme): update setup instructions
```



## 开发流程举例

#### 功能开发

​	！！！全部在feature分支中进行！！！

 	每人创建一个feature分支，命名为feature_bok以此推类

+ 项目初始化

```
提交文档
chore(project-setup): initialize project with basic structure
Initialized the project with a basic directory structure and configuration files.
```

```
git push origin feature/project-setup
```

+ 修改文档

```
docs: add initial README file
Added a README file with the project description and setup instructions.
```

```
git push origin feature/add-readme
```

+ ui开发

```
feat(ui): create basic UI for To-Do List application

Developed the basic user interface for the To-Do List application using React.
```

```
git push origin feature/frontend-ui
```

+ 后端开发

```
feat(todo): implement CRUD operations for To-Do items

Added create, read, update, and delete functionalities for To-Do items.
```

```
git push origin feature/todo-module
```

#### 合并分支

！！！多次本地commit之后，将功能开发的内容merge至dev分支！！！

```
git checkout dev
git pull origin dev
git merge feature/auth-module //注意此处命名，feature后跟几次相同commit的内容
git push origin dev
```

#### 发布准备

将最新的开发分支（`dev`）合并到预发布分支上release上，进行测试

#### 发布到主分支

将经过测试与修改过的release分支merge到main上